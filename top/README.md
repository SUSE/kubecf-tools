# Cluster Resourcing

## `top-iterated.sh`

Syntax: `top-iterated.sh NAMESPACE_NAME PATH_TO_RESULT_FILE SLEEP_DELAY`

Given the name of a k8s namespace to watch, the path to a file, and a sleep
delay the script then polls the resource usage of the pods and containers in
the specified namespace, saving them to the specified file. If the file
exists, new data is appended.

The cluster the namespace is part of is determined by `kubectl` through the
usual means. In other words, this can be overridden by setting the environment
variable `KUBECONFIG`.

## `memory-max.sh`

Syntax: `memory-max.sh PATH_TO_TOP_RESULTS`

Given the path to a file generated by `top-iterated.sh` the script determines
the max memory usage per pod and job and prints the relevant information to
stdout.

Each line on stdout contains group, job, and max memory for that combination.

## `cpu-max.sh`

Syntax: `cpu-max.sh PATH_TO_TOP_RESULTS`

Given the path to a file generated by `top-iterated.sh` the script determines
the max cpu usage per pod and job and prints the relevant information to
stdout.

Each line on stdout contains group, job, and max cpu for that combination.
